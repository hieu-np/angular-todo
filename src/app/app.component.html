<div class="container">
  <div class="row mt-3">

    <div class="col col-6 mb-3" *ngIf="isShowFormAddTodo">
      <form name="addForm" name="addForm">
        <legend class="fw-bold text-primary">Add Todo</legend>
        <div class="form-group mb-3">
          <label for="">Title</label>
          <input name="txtTitle" name="txtTitle" type="text" class="form-control" [(ngModel)]="title">
        </div>
        <div>
          <label for="">Status</label>
          <select name="txtCompleted" name="txtCompleted" class="form-control" [(ngModel)]="completed">
            <option value="false">In Progress</option>
            <option value="true">Completed</option>
          </select>
        </div>
        <div class="mt-3 btn-group text-center d-flex">
          <button type="submit" class="btn btn-primary"
            (click)="onAddTodo()"
          >Add Todo</button>
          <button type="submit" class="btn btn-danger"
            (click)="onShowFormAddTodo()"
          >Cancel</button>
        </div>
      </form>
    </div>


    <div class="col col-6 mb-3">
      <form *ngIf="todo" name="addForm" name="addForm">
        <legend>Edit Todo</legend>
        <div class="form-group mb-3">
          <label for="">Title</label>
          <input name="txtTitle" name="txtTitle" type="text" class="form-control" 
          [(ngModel)]="todo.title">
        </div>
        <div>
          <label for="">Status</label>
          <select name="txtCompleted" name="txtCompleted" class="form-control" 
          [(ngModel)]="todo.completed">
            <option value="false">In Progress</option>
            <option value="true">Completed</option>
          </select>
        </div>
        <div class="mt-3 btn-group text-center d-flex">
          <button type="submit" class="btn btn-warning"
            (click)="onUpdateTodo()"
          >Update Todo</button>
          <button type="submit" class="btn btn-success"
            (click)="onUnEditTodo()"
          >Cancel</button>
        </div>
      </form>
    </div>


    <div class="col col-12">
      <table class="table table-bordered table-hover">
        <thead>
          <tr>
            <th>ID</th>
            <th style="display: flex; justify-content: space-between;">
              <div>Title </div>
              <div>
                <span class="badge bg-primary"
                *ngIf="!isShowFormAddTodo"
                (click)="onShowFormAddTodo()"
                ><i class="fa-solid fa-plus"></i> Add Todo</span>
                <!-- <button>Add Task</button> -->
              </div>
            </th>
            <th>Completed</th>
            <th>Actions </th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of todos">
            <td class="fw-bold">{{item.id}}</td>
            <td>{{item.title}}</td>
            <td [ngClass]="item.completed ? 'text-success' : 'text-danger'">
              {{item.completed  ? 'Completed' : 'InProgress'}}
            </td>
            <td>
              <div class="btn-group" style="display: flex; justify-content: center;" role="group" aria-label="Basic example">
                <button type="button" class="width-50 btn btn-outline-warning btn-sm"
                  (click)="onEditTodo(item)"
                >
                  <i class="fa-solid fa-pen-to-square"></i>
                </button>
                <button
                  (click)="onDeleteTodo(item.id)" 
                  type="button" class="width-50 btn btn-outline-danger btn-sm">
                  <i class="fa-solid fa-trash-can"></i>
                </button>
                
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>